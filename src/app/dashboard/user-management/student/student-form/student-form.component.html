<mat-dialog-content class="mat-typography">
  <div class="page-layout simple left-sidebar inner-sidebar inner-scroll">
    <div class="content">
      <div class="center p-24 pb-56">
        <div class="app-panel-wrapper mat-white-bg mat-elevation-z2">

          <div class="app-panel-header">
            <div class="app-panel-title">
              <div class="panel-header-left">
                <mat-icon>library_books</mat-icon>
                <h3>{{data.data?'Edit':'Add'}} Student</h3>
              </div>
            </div>
            <div class="panel-header-right">
              <button mat-button color="secondary" [mat-dialog-close]="null">
                <mat-icon style="margin-right: 3px;">keyboard_arrow_left</mat-icon>
                <span>Cancel</span>
              </button>
            </div>
          </div>

          <div class="app-panel-body">
            <form [formGroup]="formItemsData" name="invcategoryForm" novalidate style="margin: 0 auto;">
              <div class="row">
                <div class="section-header">
                  Personal Information
                </div>
                <div class="col-md-12">
                  <mat-form-field>
                    <mat-label>Name</mat-label>
                    <input autocomplete="off" formControlName="name" id="title" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Name">
                    <mat-error *ngIf="formItemsData.get('name')?.hasError('customError')">
                      {{ formItemsData.get('name')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Father Name</mat-label>
                    <input autocomplete="off" formControlName="father_name" id="address" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Father Name">
                    <mat-error *ngIf="formItemsData.get('father_name')?.hasError('customError')">
                      {{ formItemsData.get('father_name')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Mother Name</mat-label>
                    <input autocomplete="off" formControlName="mother_name" id="address" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Mother Name">
                    <mat-error *ngIf="formItemsData.get('mother_name')?.hasError('customError')">
                      {{ formItemsData.get('mother_name')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Birth Date</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="birth_date" (click)="picker.open()">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error *ngIf="formItemsData.get('birth_date')?.hasError('customError')">
                      {{ formItemsData.get('birth_date')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Birth Cirtificate Number</mat-label>
                    <input autocomplete="off" formControlName="birth_certificate_no" id="short_name" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Birth Cirtificate Number">
                    <mat-error *ngIf="formItemsData.get('birth_certificate_no')?.hasError('customError')">
                      {{ formItemsData.get('birth_certificate_no')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Blood Group</mat-label>
                    <mat-select formControlName="blood_group">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of bloodGroupDropdown" [value]="dropdownData">
                        {{dropdownData}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('blood_group')?.hasError('customError')">
                      {{ formItemsData.get('blood_group')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Nationality</mat-label>
                    <mat-select formControlName="nationality">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of nationalityDropdown" [value]="dropdownData">
                        {{dropdownData}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('nationality')?.hasError('customError')">
                      {{ formItemsData.get('nationality')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Gender</mat-label>
                    <mat-select formControlName="gender">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of genderDropdown" [value]="dropdownData">
                        {{dropdownData}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('gender')?.hasError('customError')">
                      {{ formItemsData.get('gender')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Religion</mat-label>
                    <mat-select formControlName="religion_id">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of religionDropdown" [value]="dropdownData.id">
                        {{dropdownData.title}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('religion_id')?.hasError('customError')">
                      {{ formItemsData.get('religion_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="section-header">
                  Contact Information
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>E-Mail</mat-label>
                    <input autocomplete="off" formControlName="email" id="title" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter E-Mail">
                    <mat-error *ngIf="formItemsData.get('email')?.hasError('customError')">
                      {{ formItemsData.get('email')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Mobile No.</mat-label>
                    <input autocomplete="off" formControlName="mobile_no" id="address" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Mobile Number">
                    <mat-error *ngIf="formItemsData.get('mobile_no')?.hasError('customError')">
                      {{ formItemsData.get('mobile_no')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Present Address</mat-label>
                    <textarea autocomplete="off" formControlName="present_address" id="address" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Present Address"></textarea>
                    <mat-error *ngIf="formItemsData.get('present_address')?.hasError('customError')">
                      {{ formItemsData.get('present_address')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Permanent Address</mat-label>
                    <textarea autocomplete="off" formControlName="permanent_address" id="address" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Permanent Address"></textarea>
                    <mat-error *ngIf="formItemsData.get('permanent_address')?.hasError('customError')">
                      {{ formItemsData.get('permanent_address')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="section-header">
                  Academic Information
                </div>
                <div class="col-md-6" *ngIf="this.instituteDropdown.length > 1">
                  <mat-form-field>
                    <mat-label>Institute</mat-label>
                    <mat-select formControlName="institute_id">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of instituteDropdown" [value]="dropdownData.id">
                        {{dropdownData.name_en}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('institute_id')?.hasError('customError')">
                      {{ formItemsData.get('institute_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Student ID</mat-label>
                    <input autocomplete="off" formControlName="student_id" id="address" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Student ID">
                    <mat-error *ngIf="formItemsData.get('student_id')?.hasError('customError')">
                      {{ formItemsData.get('student_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Session</mat-label>
                    <mat-select formControlName="session_id">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of sessionDropdown" [value]="dropdownData.id">
                        {{dropdownData.title}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('session_id')?.hasError('customError')">
                      {{ formItemsData.get('session_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Class</mat-label>
                    <mat-select formControlName="class_id">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of classDropdown" [value]="dropdownData.id">
                        {{dropdownData.title}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('class_id')?.hasError('customError')">
                      {{ formItemsData.get('class_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Shift</mat-label>
                    <mat-select formControlName="class_shift_id">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of shiftDropdown" [value]="dropdownData.id">
                        {{dropdownData.title}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('class_shift_id')?.hasError('customError')">
                      {{ formItemsData.get('class_shift_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Section</mat-label>
                    <mat-select formControlName="section_id">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of sectionDropdown" [value]="dropdownData.id">
                        {{dropdownData.title}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('section_id')?.hasError('customError')">
                      {{ formItemsData.get('section_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Group</mat-label>
                    <mat-select formControlName="group_id">
                      <mat-option>---</mat-option>
                      <mat-option *ngFor="let dropdownData of groupDropdown" [value]="dropdownData.id">
                        {{dropdownData.title}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="formItemsData.get('group_id')?.hasError('customError')">
                      {{ formItemsData.get('group_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Roll</mat-label>
                    <input autocomplete="off" formControlName="class_roll" id="address" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter Roll">
                    <mat-error *ngIf="formItemsData.get('class_roll')?.hasError('customError')">
                      {{ formItemsData.get('class_roll')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>CRVS ID</mat-label>
                    <input autocomplete="off" formControlName="crvs_id" id="address" matInput
                      onfocus="this.removeAttribute('readonly');" placeholder="Enter CRVS ID">
                    <mat-error *ngIf="formItemsData.get('crvs_id')?.hasError('customError')">
                      {{ formItemsData.get('crvs_id')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="section-header">
                  Upload Document
                </div>
                <!-- <div class="col-md-6 file">
                  <mat-form-field>
                    <input (change)="loadFile($event, 'upload_id_card')" style="display: none" #clearValue id="id_card"
                      type="file">
                    <input value="Upload ID Card" matInput style="width: 95%;" (click)="dynamicallyOpenFile('id_card')"
                      readonly>
                    <mat-icon (click)="dynamicallyOpenFile('id_card')">attach_file</mat-icon>
                    <mat-error *ngIf="formItemsData.get('upload_id_card')?.hasError('customError')">
                      {{ formItemsData.get('upload_id_card')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div> -->
                <div class="col-md-6 file">
                  <mat-form-field>
                    <input (change)="loadFile($event, 'upload_profile')" style="display: none" #clearValue
                      id="profile_picture" type="file">
                    <input value="Upload Profile Picture" matInput style="width: 95%;"
                      (click)="dynamicallyOpenFile('profile_picture')" readonly>
                    <mat-icon (click)="dynamicallyOpenFile('profile_picture')">attach_file</mat-icon>
                    <mat-error *ngIf="formItemsData.get('upload_profile')?.hasError('customError')">
                      {{ formItemsData.get('upload_profile')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6 file">
                  <mat-form-field>
                    <input (change)="loadFile($event, 'upload_birth_certificate')" style="display: none" #clearValue
                      id="birth_cirtificate" type="file">
                    <input value="Upload Birth Cirtificate" matInput style="width: 95%;"
                      (click)="dynamicallyOpenFile('birth_cirtificate')" readonly>
                    <mat-icon (click)="dynamicallyOpenFile('birth_cirtificate')">attach_file</mat-icon>
                    <mat-error *ngIf="formItemsData.get('upload_birth_certificate')?.hasError('customError')">
                      {{ formItemsData.get('upload_birth_certificate')?.errors?.customError.value }}
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button color="warn" mat-raised-button (click)="resetAction()">
    <mat-icon style="margin-right: 3px;">autorenew</mat-icon>
    <span>Reset</span>
  </button>
  <button *ngIf="!loaderStatus" class="reference-button add-button" mat-raised-button (click)="validateForm()"
    cdkFocusInitial>
    <mat-icon style="margin-right: 3px;">apps</mat-icon>
    <span>{{data.data?'Update':'Save'}}</span>
  </button>
  <button *ngIf="loaderStatus" class="reference-button" mat-raised-button (click)="validateForm()" cdkFocusInitial>
    <mat-progress-spinner style="background-color: white; float: left" mode="indeterminate" diameter="37">
    </mat-progress-spinner>
  </button>
</mat-dialog-actions>
